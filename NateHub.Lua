--Wait for the game to load--
if not game:IsLoaded() then 
	game.Loaded:Wait()
end

--Game's place ID--
local DifficultyMachine = 11915606459
local BackalleySimulator = 11257760806
local UCA = 6143963763 
local Pilgrammed = 6735572261
local SoulEaterResonance = 4505214429
local FairyTailMagicEra = 11773820638

--Normal Variable--
local UIToggleDB = true
local UITheme = "Ocean"
local UIName = "Nate Higger Hub"
local TopSectionText = "I hate niggers fr"
local GameID = game.PlaceId
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Backpack = Player.Backpack

--Check if UI exist--
for i,v in pairs(CoreGui:GetChildren()) do 
    if v:FindFirstChild("Main") then 
        v:Destroy()
    end
end

--Kavo UI Library--
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib(UIName, UITheme)

--Remove Close Button--
for i,v in pairs(CoreGui:GetChildren()) do 
    if v:FindFirstChild("Main") then 
        v.Main.MainHeader["close"]:Destroy()
    end
end



--Game Checker--
if GameID == DifficultyMachine then 
	--Variable--
	local Click = Workspace.Click
	local CD = Click.ClickDetector
	local Difficulties = Workspace.Difficulties
	local Clear = ReplicatedStorage.Clear
	local CurrentClear = nil 

	getgenv().NoLag = false 
	getgenv().AutoClick = false 
	getgenv().AutoSell = false 
	getgenv().BringPart = false 

	--Function--
	local function bringPart(state)
		getgenv().BringPart = state 
		while getgenv().BringPart  do 
			for i,v in pairs(Difficulties:GetChildren()) do 
				if not getgenv().BringPart then return end 
				task.wait(0.01)
				v.CollisionGroupId = 4
				v.Position = Player.Character.Torso.Position
			end 
		end
		if not getgenv().BringPart then 
			for i,v in pairs(Difficulties:GetChildren()) do 
				task.wait(0.01)
				v.CollisionGroupId = 0
			end 
		end
	end


	local function noLag(Part)
		if Part.Transparency == 0.5 and getgenv().NoLag then
			task.wait(0.2)
			Part:Destroy()
		end
	end

	local function autoSell(state)
		getgenv().AutoSell = state 
		while getgenv().AutoSell do 
			task.wait(0.1)
			Clear:FireServer(CurrentClear)
		end
	end

	Difficulties.ChildAdded:Connect(noLag)

	RunService.Heartbeat:Connect(function()
		if getgenv().AutoClick then 
			fireclickdetector(CD)
		end
	end)


	--UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local noLag = MainSection:NewToggle("No Difficulties", "Reduce lag", function(state)
		if state then
			getgenv().NoLag = state
		else
			getgenv().NoLag = state
		end
	end)

	local autoC = MainSection:NewToggle("Autoclick", "Spawn cube for you", function(state)
		if state then 
			getgenv().AutoClick = state
		else
			getgenv().AutoClick = state 
		end
	end)

	local selectDifficulties = MainSection:NewTextBox("Select Difficulties", "Select difficulties for auto sell", function(text)
		CurrentClear = text  
	end)

	local autoSells = MainSection:NewToggle("Autosell", "Clear cube for you", function(state)
		if state then 
			autoSell(state)
		else
			autoSell(state)
		end
	end)

	local bringparts = MainSection:NewToggle("Bring Parts", "Bring cube to you", function(state)
		if state then
			bringPart(state)
		else
			bringPart(state)
		end
	end)
end

if GameID == BackalleySimulator then 
    --Variable--
	local RestaurantMicrowaveFolder = Workspace.boards
    local ShopPosition = CFrame.new(69,7,-88)
    local TrashPosition = nil
	local Recipe = ""
    local ToolTable = {
        [1] = "Stick Stick",
        [2] = "Styrofoam Stick",
        [3] = "Cardboard Stick",
        [4] = "Plastic Stick",
        [5] = "Cloth Stick",
        [6] = "Foil Stick",
        [7] = "Wood Stick",
        [8] = "Rust Stick",
        [9] = "Lead Stick",
        [10] = "Gold Stick"
    }
    -- This script was generated by Hydroxide's RemoteSpy: https://github.com/Upbolt/Hydroxide

    local SellAllTable = {
    	["sock"] = {
    		["rarity"] = 0.3,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.6,
    		["img"] = "rbxassetid://5684868683",
    		["grade"] = 2,
    		["name"] = "sock"
    	},
    	["spring"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.25,
    		["img"] = "rbxassetid://12025882634",
    		["grade"] = 2,
    		["name"] = "spring"
    	},
    	["plank"] = {
    		["rarity"] = 0.2,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.5,
    		["img"] = "rbxassetid://20944363",
    		["grade"] = 2,
    		["name"] = "plank"
    	},
    	["battery"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.8,
    		["img"] = "rbxassetid://10953918865",
    		["grade"] = 2,
    		["name"] = "battery"
    	},
    	["foil"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.2,
    		["img"] = "rbxassetid://147887823",
    		["grade"] = 1,
    		["name"] = "foil"
    	},
    	["cd"] = {
    		["rarity"] = 0.24,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 15,
    		["img"] = "rbxassetid://949160203",
    		["grade"] = 3,
    		["name"] = "cd"
    	},
    	["gold"] = {
    		["rarity"] = 0.01,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 100,
    		["img"] = "rbxassetid://5684864491",
    		["grade"] = 3,
    		["name"] = "gold doubloon"
    	},
    	["rotten"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.05,
    		["img"] = "rbxassetid://12025752984",
    		["grade"] = 2,
    		["name"] = "rotten food"
    	},
    	["comic"] = {
    		["rarity"] = 0.2,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 250,
    		["img"] = "rbxassetid://12207060371",
    		["grade"] = 4,
    		["name"] = "comic book"
    	},
    	["tp"] = {
    		["rarity"] = 0.05,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 1,
    		["img"] = "rbxassetid://6766522014",
    		["grade"] = 1,
    		["name"] = "toilet paper"
    	},
    	["phone"] = {
    		["rarity"] = 0.4,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 50,
    		["img"] = "rbxassetid://1519603285",
    		["grade"] = 4,
    		["name"] = "phone"
    	},
    	["plastic"] = {
    		["rarity"] = 0.25,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.04,
    		["img"] = "rbxassetid://5684862728",
    		["grade"] = 1,
    		["name"] = "plastic"
    	},
    	["cardboard"] = {
    		["rarity"] = 0.15,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.1,
    		["img"] = "rbxassetid://13390195",
    		["grade"] = 1,
    		["name"] = "cardboard"
    	},
    	["bottle"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 1,
    		["img"] = "rbxassetid://480355285",
    		["grade"] = 2,
    		["name"] = "bottle"
    	},
    	["can"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.07,
    		["img"] = "rbxassetid://6874536183",
    		["grade"] = 1,
    		["name"] = "empty can"
    	},
    	["credit"] = {
    		["rarity"] = 0.4,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 130,
    		["img"] = "rbxassetid://12207031909",
    		["grade"] = 4,
    		["name"] = "credit card"
    	},
    	["shoe"] = {
    		["rarity"] = 0.4,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 7.5,
    		["img"] = "rbxassetid://10912056890",
    		["grade"] = 3,
    		["name"] = "shoe"
    	},
    	["card"] = {
    		["rarity"] = 0.05,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 20,
    		["img"] = "rbxassetid://38154272",
    		["grade"] = 3,
    		["name"] = "trading card"
    	},
    	["cloth"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.15,
    		["img"] = "rbxassetid://9712134761",
    		["grade"] = 1,
    		["name"] = "torn cloth"
    	},
    	["paper"] = {
    		["rarity"] = 0.25,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.02,
    		["img"] = "rbxassetid://6835358763",
    		["grade"] = 1,
    		["name"] = "paper"
    	},
    	["electronics"] = {
    		["rarity"] = 0.3,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 9.6,
    		["img"] = "rbxassetid://547416328",
    		["grade"] = 3,
    		["name"] = "electronics"
    	},
    	["nail"] = {
    		["rarity"] = 0.1,
    		["category"] = "trash",
    		["itemType"] = "trash",
    		["weight"] = 1,
    		["value"] = 0.3,
    		["img"] = "rbxassetid://11362540073",
    		["grade"] = 2,
    		["name"] = "nail"
    	}
    }
    local SellAmount = 1000000
    local SellRemote = ReplicatedStorage.SellTrash 
	local MicrowaveRemote = ReplicatedStorage.Restaurant.PortableMicrowave 
	local RecipeRemote = ReplicatedStorage.Restaurant.RecipeSelected
        
    getgenv().AutofarmTrash = false 
    getgenv().Autosticks = false
    getgenv().Microwave = false 
    --Function--
	local function Automicrowave(state)
		getgenv().Microwave = state 
		RecipeRemote:FireServer(Recipe)
		while getgenv().Microwave do
			task.wait(0.1) 
			local MyMicrowave = nil 
			if Player.Character:FindFirstChild("Portable Microwave") then 
				local PortMicro = Player.Character["Portable Microwave"]
				if PortMicro.timer.SurfaceGui.TextBox.Text == "00:00" then 
					MicrowaveRemote:FireServer(Player)
					task.wait(4)
					repeat 
						task.wait()
					until PortMicro.timer.SurfaceGui.TextBox.Text == "00:00"
					MicrowaveRemote:FireServer(Player)
				end
			else 
				for i,v in pairs(RestaurantMicrowaveFolder:GetChildren()) do 
					local FindMicrowave = v:FindFirstChild("Microwave")
					if FindMicrowave and FindMicrowave.BillboardGui.Enabled == true then  
						MyMicrowave = FindMicrowave
					end
				end
				if MyMicrowave.timer.SurfaceGui.TextBox.Text == "00:00" then 
					fireclickdetector(MyMicrowave.ClickDetector)
					task.wait(4)
					repeat 
						task.wait()
					until MyMicrowave.timer.SurfaceGui.TextBox.Text == "00:00"
					fireclickdetector(MyMicrowave.ClickDetector)
				end
			end
		end
	end

    local function Autostick(state)
        getgenv().Autosticks = state
        while getgenv().Autosticks do 
            local ToolTier = Player.playerStats.tool.Value
            local ToolName = ToolTable[ToolTier]
            if not Player.Character:FindFirstChild(ToolName) then 
                local UnequippedTool = Backpack[ToolName]
                Player.Character.Humanoid:EquipTool(UnequippedTool)
            end
            task.wait(0.1)
            Player.Character[ToolName]:Activate()
        end
    end
    
    local function FarmTrash(state)
        getgenv().AutofarmTrash = state
        if getgenv().AutofarmTrash then 
           Trash = Workspace.hitboxes["2"]  
		   Player.Character.HumanoidRootPart.CFrame = Trash.CFrame + Vector3.new(0,2,0)
        end
        while getgenv().AutofarmTrash do 
            local Weight = Player.playerStats.weight
            local InventorySpace = Player.playerStats.inventorySpace 
            local ToolTier = Player.playerStats.tool.Value
            local ToolName = ToolTable[ToolTier]
            if not Player.Character:FindFirstChild(ToolName) then 
                local UnequippedTool = Backpack[ToolName]
                Player.Character.Humanoid:EquipTool(UnequippedTool)
            end
            task.wait(0.1)
            Player.Character[ToolName]:Activate()
            if Weight.Value == InventorySpace.Value then 
                Player.Character.HumanoidRootPart.CFrame = ShopPosition
                task.wait(0.2)
                SellRemote:FireServer(SellAllTable, SellAmount)
                task.wait(0.2)
                Player.Character.HumanoidRootPart.CFrame = Trash.CFrame + Vector3.new(0,2,0)
            end
        end
    end
        
    
    --UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local Autoclick = MainSection:NewToggle("Autoclick stick", "Spam click stick", function(state)
	    if state then 
	        Autostick(state)
	    else 
	        Autostick(state)
	    end
	end)
	
	local AutoFarm = MainSection:NewToggle("Autofarm Money", "Dig trash and sell them", function(state)
	    if state then 
	        FarmTrash(state)
        else 
            FarmTrash(state)
        end
	end)

	local SelectRecipe = MainSection:NewDropdown("Select Recipe", "Use this recipe for Auto-Microwave", {"crackers", "croissant","lasagna","cake","souffle"}, function(CurrentOption)
		Recipe = CurrentOption
	end)

	local AutoMicrowave = MainSection:NewToggle("Auto-Microwave", "Cook for you", function(state)
		if state then
			Automicrowave(state)
		else 
			Automicrowave(state)
		end 
	end)
end

if GameID == UCA then 
	--Variable--
	local InputRemote = game:GetService("ReplicatedStorage").Events.InputKey
	local InputEnded = true 
	local NormalAttack = "LMB"
	local Block = "F"
	local Attacking = false 
	local Blocking = false 

	getgenv().HoldAttack = false
	getgenv().HoldBlock = false

	--Function--
	local function SetHoldAttack(state)
		getgenv().HoldAttack = state 
	end

	local function SetHoldBlock(state)
		getgenv().HoldBlock = state 
	end

	UserInputService.InputBegan:Connect(function(Inputs, GameProcessed)
		if Inputs.UserInputType == Enum.UserInputType.Keyboard then
			if Inputs.KeyCode == Enum.KeyCode.F and not GameProcessed and getgenv().HoldBlock then 
				Blocking = true 
			end
		end
	end)
	UserInputService.InputEnded:Connect(function(Inputs, GameProcessed)
		if Inputs.UserInputType == Enum.UserInputType.Keyboard then
			if Inputs.KeyCode == Enum.KeyCode.F and not GameProcessed then 
				Blocking = false 
			end
		end
	end)
	RunService.Heartbeat:Connect(function()
		if Attacking then 
			InputRemote:FireServer(NormalAttack)
		end 
		if Blocking then 
			InputRemote:FireServer(Block)
		end
	end)

	--UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local HoldToAttack = MainSection:NewToggle("Hold M1", "Hold m1 to attack", function(state)
		if state then 
			SetHoldAttack(state)
		else 
			SetHoldAttack(state)
		end
	end)

	local HoldToBlock = MainSection:NewToggle("Hold Block", "Hold f to block", function(state)
		if state then 
			SetHoldBlock(state)
		else 
			SetHoldBlock(state)
		end
	end)
end

if GameID == Pilgrammed then 
	--Variable--
	local NPC = Workspace.NPCs
	local TaintedFlowerRemote = NPC.Kyle.Script.RemoteEvent
	--Function--
	
	--UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local GetTaintedFlower = MainSection:NewButton("Get Tainted Flower", "Give you tainted flower", function()
		TaintedFlowerRemote:FireServer()
	end)
end

if GameID == SoulEaterResonance then 
	--Variable--
	local Misc = Workspace.miscObjects
	local HeroDelivery = Misc.heroDelivery
	local QuestNPC = Workspace.radiantNpcs
	local QuestRemote = ReplicatedStorage.remotes.remoteEvent
	getgenv().ADelivery = false 
	--Function--
	local function findQuest()
		for i,v in pairs(QuestNPC:GetChildren()) do 
			if v.Name == "heroDelivery" then 
				return v.HumanoidRootPart
			end
		end
	end
	local function findOfficerCindy()
		for i,v in pairs(HeroDelivery:GetChildren()) do 
			if v:FindFirstChild("officerCindy") then 
				if v.officerCindy.owner.Value == Player.Name then 
					return v.officerCindy.HumanoidRootPart
				end
			end
		end
	end

	local function AutoDelivery(State)
		getgenv().ADelivery = State 
		while getgenv().ADelivery do 
			local FindQuest = findQuest()
			task.wait(0.01)
			if FindQuest then 
				repeat 
					Player.Character.HumanoidRootPart.CFrame = FindQuest.CFrame
					local questStart = "heroDelivery"
					local questStartT = {
						[1] = FindQuest.Parent 
					}
					task.wait(0.5)
					QuestRemote:FireServer(questStart, questStartT)
				until Player.PlayerGui.ScreenGui.questMsg.Visible == true 
			end 
			task.wait(0.1)
			local FindCindy = findOfficerCindy()
			if FindCindy then 
				Player.Character.HumanoidRootPart.CFrame = FindCindy.CFrame
    			local questEnd = "heroDeliveryTurnIn"
    			local questEndT = {
    				[1] = FindCindy.Parent
    			}
				task.wait(0.5)
    			QuestRemote:FireServer(questEnd, questEndT)
			end
		end
	end
	--UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local AutoFarm = MainSection:NewToggle("Autofarm", "Free exp lol", function(state)
		if state then 
			AutoDelivery(state)
		else
			AutoDelivery(state)
		end
	end)
end

if GameID == FairyTailMagicEra then 
	--Variable--
	local TrinketsFolder = Workspace.Trinkets 
	local SafeSpot = CFrame.new(-112, 211, -186)
	getgenv().AutoTrinket = false 
	getgenv().GCFrame = CFrame.new(0,0,0) 
	getgenv().Floating = false 
	--Function--
	local newThread = coroutine.create(function()
		while true do 
			task.wait()
			Player.Character.HumanoidRootPart.CFrame = getgenv().GCFrame * CFrame.new(0,-20,0)
			if not getgenv().Floating then 
				coroutine.yield()
			end
		end
	end)
	local function AutoFarmTrinket(state)
		getgenv().AutoTrinket = state 
		getgenv().Floating = false 
		local ObjectFrame = CFrame.new(0,0,0)
		while getgenv().AutoTrinket do 
			task.wait()
			for i,v in pairs(TrinketsFolder:GetChildren()) do 
				if not getgenv().AutoTrinket then return end 
				if v == nil then
					return 
				end 
				if v.ClassName == "MeshPart" or v.ClassName == "UnionOperation" then 
					getgenv().Floating = false 
					getgenv().GCFrame = v.CFrame
					task.wait(0.2)
					Player.Character.HumanoidRootPart.CFrame = v.CFrame 
					task.wait(0.2)
					game:GetService("ReplicatedStorage").Remotes.TrinketPickup:FireServer(v.Name)
					task.wait(0.1)
				end
				getgenv().Floating = true
				coroutine.resume(newThread)
			end
		end
	end
	--UI Creation--
	local Main = Window:NewTab("Main")
	local MainSection = Main:NewSection(TopSectionText)

	local TrinketAutoFarm = MainSection:NewToggle("Autofarm Trinkets", "Free trinkets lol", function(state)
		if state then 
			AutoFarmTrinket(state)
		else
			AutoFarmTrinket(state)
		end
	end)
end

--UI Toggling Keybind--
local Other = Window:NewTab("Other")
local OtherSection = Other:NewSection(TopSectionText)
OtherSection:NewKeybind("GUI Toggle Keybind", "Keybind for toggling UIs.", Enum.KeyCode.F, function()
	Library:ToggleUI()
end)


